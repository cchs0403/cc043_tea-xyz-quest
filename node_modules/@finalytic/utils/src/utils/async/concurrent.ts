import { asyncPool } from './asyncpool';

export async function concurrent<T>(
  iteratorFn: (() => Promise<T>)[],
  concurrency: number
): Promise<T[]> {
  return asyncPool.all(iteratorFn, (fn) => fn(), concurrency) as any;
}
