export async function paginate(
  max: number,
  // biome-ignore lint/suspicious/noConfusingVoidType: <explanation>
  task: (i: number) => void | Promise<undefined | void | boolean>
) {
  for (let i = 0; i < max; i++) {
    if (i > max) {
      break;
    }
    if ((await task(i)) === false) break;
  }
}
