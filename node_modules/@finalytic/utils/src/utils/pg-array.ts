import { uniqueBy } from './array';

export function fromPgArray(str: string) {
  return str
    .replace(/^{/, '')
    .replace(/}$/, '')
    .split(',')
    .filter((x) => x)
    .map((x) => x.replace(/"/g, ''));
}

export function toPgArray(arr: string[]) {
  const m = uniqueBy(arr, (x) => x)
    .filter((x) => x)
    .map((e) => `"${e}"`)
    .join(',');
  return `{${m}}`;
}
