"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.bankersRoundToCents = exports.bankersRound = void 0;
const currency_js_1 = __importDefault(require("currency.js"));
function bankersRound(n, d = 2) {
    if (!n) {
        return 0;
    }
    if (typeof n === 'string') {
        n = (0, currency_js_1.default)(n).value;
    }
    const x = n * 10 ** d;
    const r = Math.round(x);
    const br = Math.abs(x) % 1 === 0.5 ? (r % 2 === 0 ? r : r - 1) : r;
    return br / 10 ** d;
}
exports.bankersRound = bankersRound;
function bankersRoundToCents(amount) {
    return Math.round(bankersRound(amount) * 100);
}
exports.bankersRoundToCents = bankersRoundToCents;
