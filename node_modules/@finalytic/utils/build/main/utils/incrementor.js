"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createIncrementor = void 0;
function createIncrementor(startWithOrToken = 2, delimiter = '-') {
    const startWith = typeof startWithOrToken === 'number' ? startWithOrToken : 1;
    const token = typeof startWithOrToken === 'string' ? startWithOrToken : undefined;
    const acc = {};
    return (text) => {
        if (acc[text] !== undefined) {
            acc[text] = acc[text] + 1;
            if (token)
                text = `${text}-${Array(acc[text])
                    .fill(0)
                    .map(() => token)
                    .join(delimiter)}`;
            else
                text = `${text}-${acc[text]}`;
        }
        else
            acc[text] = startWith - 1;
        return text;
    };
}
exports.createIncrementor = createIncrementor;
